#include "Pet.h"

const int Pet::LightningBolt[10][10]= {
    { 0,0,0,0,1,1,1,1,0,0, },
    { 0,0,0,1,1,1,1,1,0,0, },
    { 0,0,0,1,1,1,1,0,0,0, },
    { 0,0,1,1,1,1,0,0,0,0, },
    { 0,1,1,1,1,1,1,1,1,1, },
    { 1,1,1,1,1,1,1,1,1,0, },
    { 0,0,0,0,1,1,1,1,0,0, },
    { 0,0,0,0,1,1,1,0,0,0, },
    { 0,0,0,0,1,1,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0, },
};

const int Pet::DrumStick[10][10]= {
    { 0,0,0,0,0,1,1,1,1,0, },
    { 0,0,0,0,1,1,1,1,1,1, },
    { 0,0,0,1,1,1,1,1,1,1, },
    { 0,0,0,1,1,1,1,1,1,1, },
    { 0,0,0,1,1,1,1,1,1,1, },
    { 0,0,1,1,1,1,1,1,1,0, },
    { 0,1,1,1,1,1,1,1,0,0, },
    { 1,1,1,1,1,0,0,0,0,0, },
    { 0,1,1,1,0,0,0,0,0,0, },
    { 0,0,1,0,0,0,0,0,0,0, },
};

const int Pet::SmileyHappy[10][10]= {
    { 0,0,0,1,1,1,1,0,0,0, },
    { 0,0,1,0,0,0,0,1,0,0, },
    { 0,1,0,0,0,0,0,0,1,0, },
    { 1,0,0,1,0,0,1,0,0,1, },
    { 1,0,0,0,0,0,0,0,0,1, },
    { 1,0,0,0,0,0,0,0,0,1, },
    { 1,0,0,1,0,0,1,0,0,1, },
    { 0,1,0,0,1,1,0,0,1,0, },
    { 0,0,1,0,0,0,0,1,0,0, },
    { 0,0,0,1,1,1,1,0,0,0, },
};

const int Pet::SmileyNeutral[10][10]= {
    { 0,0,0,1,1,1,1,0,0,0, },
    { 0,0,1,0,0,0,0,1,0,0, },
    { 0,1,0,0,0,0,0,0,1,0, },
    { 1,0,0,1,0,0,1,0,0,1, },
    { 1,0,0,0,0,0,0,0,0,1, },
    { 1,0,0,0,0,0,0,0,0,1, },
    { 1,0,0,1,1,1,1,0,0,1, },
    { 0,1,0,0,0,0,0,0,1,0, },
    { 0,0,1,0,0,0,0,1,0,0, },
    { 0,0,0,1,1,1,1,0,0,0, },
};

const int Pet::SmileySad[10][10]= {
    { 0,0,0,1,1,1,1,0,0,0, },
    { 0,0,1,0,0,0,0,1,0,0, },
    { 0,1,0,0,0,0,0,0,1,0, },
    { 1,0,0,1,0,0,1,0,0,1, },
    { 1,0,0,0,0,0,0,0,0,1, },
    { 1,0,0,0,0,0,0,0,0,1, },
    { 1,0,0,0,1,1,0,0,0,1, },
    { 0,1,0,1,0,0,1,0,1,0, },
    { 0,0,1,0,0,0,0,1,0,0, },
    { 0,0,0,1,1,1,1,0,0,0, },
};

const int Pet::Pedro[32][44]= {
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0, },
    { 0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0, },
    { 0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0, },
    { 0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0, },
    { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0, },

};
 
Pet::Pet(N5110 &lcd, BusOut &leds_bus) : _lcd(lcd), _leds_bus(leds_bus), _hunger(3), _energy(3), _happiness(3), _health(3) {}

void Pet::hunger_update() {
    if (_hunger == 3) {
        _lcd.clear();
        _lcd.drawSprite(54, 0, 10, 10, (int*)DrumStick);
        _lcd.drawSprite(64, 0, 10, 10, (int*)DrumStick);
        _lcd.drawSprite(74, 0, 10, 10, (int*)DrumStick);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_hunger == 2) {
        _lcd.clear();
        _lcd.drawSprite(54, 0, 10, 10, (int*)DrumStick);
        _lcd.drawSprite(64, 0, 10, 10, (int*)DrumStick);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_hunger == 1) {
        _lcd.clear();
        _lcd.drawSprite(54, 0, 10, 10, (int*)DrumStick);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_hunger == 0) {
        _lcd.clear();
        _lcd.printString("!!!", 65, 0);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }  
}

void Pet::energy_update() {
    if (_energy == 3) {
        _lcd.clear();
        _lcd.drawSprite(0, 0, 10, 10, (int*)LightningBolt);
        _lcd.drawSprite(10, 0, 10, 10, (int*)LightningBolt);
        _lcd.drawSprite(20, 0, 10, 10, (int*)LightningBolt);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_energy == 2) {
        _lcd.clear();
        _lcd.drawSprite(0, 0, 10, 10, (int*)LightningBolt);
        _lcd.drawSprite(10, 0, 10, 10, (int*)LightningBolt);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_energy == 1) {
        _lcd.clear();
        _lcd.drawSprite(0, 0, 10, 10, (int*)LightningBolt);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_energy == 0) {
        _lcd.clear();
        _lcd.printString("!!!", 0, 0);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
}

void Pet::happiness_update() {
    if (_happiness == 3) {
        _lcd.clear();
        _lcd.drawSprite(37, 0, 10, 10, (int*)SmileyHappy);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_happiness == 2) {
        _lcd.clear();
        _lcd.drawSprite(37, 0, 10, 10, (int*)SmileyNeutral);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_happiness == 1) {
        _lcd.clear();
        _lcd.drawSprite(37, 0, 10, 10, (int*)SmileySad);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
    if (_happiness == 0) {
        _lcd.clear();
        _lcd.printString("!!!", 37, 0);
        _lcd.drawSprite(20, 16, 32, 44, (int*)Pedro);
        _lcd.refresh();
    }
}

void Pet::health_update() {
    if(_health == 3) {
        _leds_bus.write(111);
    }
    else if (_health == 2) {
        _leds_bus.write(110);
    }
    else if (_health == 1) {
        _leds_bus.write(100);
    }
    else {
        _lcd.clear();
        _lcd.printString("   Game Over", 0, 2);
        _lcd.refresh();
        _leds_bus = !_leds_bus;
        ThisThread::sleep_for(500ms);
    }
    if (_hunger == 3 && _energy > 0 && _happiness > 0) {
        _health = 3;
    }
    if (_energy == 3 && _hunger > 0 && _happiness > 0) {
        _health = 3;
    }
    if (_happiness == 3 && _hunger > 0 && _energy > 0) {
        _health = 3;
    }

}

void Pet::set_hunger(int hunger) { 
    _hunger = hunger; 
}

void Pet::set_energy(int energy) {
    _energy = energy;
}

void Pet::set_happiness(int happiness) {
    _happiness = happiness;
}

void Pet::set_health(int health) {
    _health = health;
}

int Pet::get_hunger() {
    return _hunger;
}

int Pet::get_energy() {
    return _energy;
}

int Pet::get_happiness() {
    return _happiness;
}

int Pet::get_health() {
    return _health;
}